webpackJsonp([16],{"5CZM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=JSON.parse('{"photo@select-photo":{"en":"Choose from Album","zh-CN":"从相册选择图片"}}');e.options.__i18n=t,e.options.beforeCreate=e.options.beforeCreate||[],e.options.beforeCreate.push(function(){this.$event.emit("i18n:add",t)})}},HilF:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,'\n#photo[data-v-3aa9e810] {\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  background-color: #f7f7f7;\n  background-color: #000;\n}\n#photo .widget-default-avatar[data-v-3aa9e810] {\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%);\n    position: relative;\n    margin: 0 auto;\n    border-radius: 0;\n}\n#photo input[type="file"][data-v-3aa9e810] {\n    top: 0;\n    left: 0;\n    opacity: 0;\n    font-size: 0;\n    position: absolute;\n}\n',"",{version:3,sources:["/Users/lixinliang/github/wish-crystal/src/view/photo/index.vue"],names:[],mappings:";AACA;EACE,aAAa;EACb,iBAAiB;EACjB,mBAAmB;EACnB,0BAA0B;EAC1B,uBAAuB;CACxB;AACD;IACI,SAAS;IACT,oCAAoC;YAC5B,4BAA4B;IACpC,mBAAmB;IACnB,eAAe;IACf,iBAAiB;CACpB;AACD;IACI,OAAO;IACP,QAAQ;IACR,WAAW;IACX,aAAa;IACb,mBAAmB;CACtB",file:"index.vue",sourcesContent:['\n#photo[data-v-3aa9e810] {\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  background-color: #f7f7f7;\n  background-color: #000;\n}\n#photo .widget-default-avatar[data-v-3aa9e810] {\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%);\n    position: relative;\n    margin: 0 auto;\n    border-radius: 0;\n}\n#photo input[type="file"][data-v-3aa9e810] {\n    top: 0;\n    left: 0;\n    opacity: 0;\n    font-size: 0;\n    position: absolute;\n}\n'],sourceRoot:""}])},OTIb:function(e,t,n){"use strict";function a(e){n("iCAe")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("Xxa5"),i=n.n(o),r=n("exGp"),s=n.n(r),u=n("iy3+"),c=window,p=c._,f=[],l=(u.a,window),d=l._,A=[],h={components:{widgetDefaultAvatar:u.a},data:function(){return{size:window.innerWidth}},methods:{change:function(e){var t=this;return s()(i.a.mark(function e(){var n,a,o,r,s,u,c,p;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$refs.file.files,!n.length){e.next=20;break}return window.$event.emit("app:loading",{show:!0}),a=window.util.sleep(2e3),o=n[0],e.next=7,window.util.reader(o);case 7:return r=e.sent,s=r.result,e.next=11,window.util.img(s);case 11:return u=e.sent,c=u.src,e.next=15,a;case 15:return e.next=17,t.$forage({type:"set",key:"user@avatar",value:c});case 17:window.$event.emit("app:loading",{show:!1}),p=t.$t("app@save-success"),window.$event.emit("app:toast",{text:p,width:"20em"});case 20:case"end":return e.stop()}},e,t)}))()}},created:function(){var e=this,t=window.$event.listen("layout-navbar:click",function(){var t=s()(i.a.mark(function t(n){var a,o,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("more"!==n){t.next=7;break}return a=d.map(["select-photo"],function(t){return e.$t("photo@"+t)}),t.next=4,window.util.actionsheet({menus:a});case 4:o=t.sent,r=o.payload,0===r&&e.$refs.file.click();case 7:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());A.push(t)},destroyed:function(){d.forEach(A,function(e){return e.remove()})}},v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"photo"},on:{touchmove:function(e){e.preventDefault()}}},[n("input",{ref:"file",attrs:{type:"file",accept:"image/*",capture:"capture"},on:{change:e.change}}),e._v(" "),n("widget-default-avatar",{attrs:{width:e.size,height:e.size}})],1)},w=[],C={render:v,staticRenderFns:w},m=C,g=n("VU/8"),b=a,B=g(h,m,!1,b,"data-v-3aa9e810",null),x=n("5CZM");x&&x.__esModule&&(x=x.default),"function"==typeof x&&x(B);t.default=B.exports},iCAe:function(e,t,n){var a=n("HilF");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("7f5a1cd5",a,!0,{})}});
//# sourceMappingURL=16.c0fc7234619aed8ec2f6.js.map